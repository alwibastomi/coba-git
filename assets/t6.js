var table,table2,t1=[],t2=[],t3=[],t4=[],t5=[],t6=[],stopword=[/\s+dan\s*(?=\s)|\s*\bdan\b\s*/,/\s+adalah\s*(?=\s)|\s*\badalah\b\s*/,/\s+yang\s*(?=\s)|\s*\byang\b\s*/,"kemudian",/\s+di\s*(?=\s)|\s*\bdi\b\s*/,"jika",/\s+maka\s*(?=\s)|\s*\bmaka\b\s*/,/\s+ini\s*(?=\s)|\s*\bini\b\s*/,/\s+itu\s*(?=\s)|\s*\bitu\b\s*/,/\s+tidak\s*(?=\s)|\s*\btidak\b\s*/,/\s+ada\s*(?=\s)|\s*\bada\b\s*/,/\s+adanya\s*(?=\s)|\s*\badanya\b\s*/,/\s+adapun\s*(?=\s)|\s*\badapun\b\s*/,/\s+agak\s*(?=\s)|\s*\bagak\b\s*/,/\s+agar\s*(?=\s)|\s*\bagar\b\s*/,/\s+akan\s*(?=\s)|\s*\bakan\b\s*/,/\s+akankah\s*(?=\s)|\s*\bakankah\b\s*/,/\s+akhir\s*(?=\s)|\s*\bakhir\b\s*/,/\s+akhiri\s*(?=\s)|\s*\bakhiri\b\s*/,/\s+akhirnya\s*(?=\s)|\s*\bakhirnya\b\s*/,/\s+apa\s*(?=\s)|\s*\bapa\b\s*/,/\s+amat\s*(?=\s)|\s*\bamat\b\s*/,/\s+amatlah\s*(?=\s)|\s*\bamatlah\b\s*/,/\s+antar\s*(?=\s)|\s*\bantar\b\s*/],heading1=[],heading2=[],heading3=[],heading4=[],heading5=[],heading6=[],kons1="",kons2="",kons3="",kons4="",kons5="",kons6="",un1=[],p1=[],p2=[],p3=[],p4=[],p5=[],p6=[];function reverseObject(a){var e={},s=[];for(var l in a)s.push(l);for(var n=s.length-1;n>=0;n--){var t=a[s[n]];e[s[n]]=t}return e}function reset(a){1==a&&($("#url1").val(""),$("#url2").val(""),$("#url3").val(""),$("#url4").val(""),$("#url5").val(""),$("#url6").val(""),$("#keyword").val("")),2==a&&($("#show").addClass("disabled").text("konsensus"),$("#restabel").removeClass("btn-danger").addClass("btn-secondary").addClass("disabled"),$("#datatable-top").DataTable().clear().draw(),$("#datatable-mantab").DataTable().clear().draw(),$("#popokaa").css("display","none"),$("#show").attr("title","Analisa terlebih dahulu"))}table=$("#datatable-mantab").DataTable(),table2=$("#datatable-top").DataTable(),String.prototype.replaceArray=function(a,e){for(var s,l=this,n=0;n<a.length;n++)s=new RegExp(a[n],"g"),l=l.replace(s,e[n]);return l},$(document).ready(function(){(table=$("#datatable-mantab").DataTable()).on("draw",function(){var a=$(table.table().body());a.unhighlight(),a.highlight(table.search())})}),$("#reset").click(function(a){a.preventDefault(),$("#datatable-top").DataTable().clear().draw(),$("#datatable-mantab").DataTable().clear().draw(),$("#url1").val(""),$("#url2").val(""),$("#url3").val(""),$("#url4").val(""),$("#url5").val(""),$("#url6").val(""),$("#keyword").val("")}),$("#resetkonsensus").click(function(a){a.preventDefault(),$("#datatable-top").DataTable().clear().draw()}),$("#resetanalisa").click(function(a){a.preventDefault(),$("#datatable-mantab").DataTable().clear().draw()}),$("#ani").click(function(a){var e=0;if(a.preventDefault(),""==$("#keyword").val()&&$("#keyword").attr("placeholder","Isi keyword terlebih dahulu").focus(),""!=$("#keyword").val()){$("#show").addClass("disabled").text("Sedang menganalisa konsensus").attr("title","sedang menganalisa").css({"background-color":"green","border-color":"green"});var s=$("#url1").val(),l=$("#url2").val(),n=$("#url3").val(),t=$("#url4").val(),r=$("#url5").val(),o=$("#url6").val(),d=$("#keyword").val();$("#alskonsensus").html(""),kes=0,""!=$("#url1").val()&&(e+=1,$.ajax({type:"POST",data:"url1="+s+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){kes+=1;var l=(kons1=(kons1=(kons1=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");console.log(kons1),un1.push(l),$.each(a.p,function(e,l){table.row.add([a.p[e],s])}),$.each(a.heading,function(e,l){table.row.add([a.heading[e],s])}),table.draw(),console.log(kes),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}})),""!=$("#url2").val()&&(e+=1,$.ajax({type:"POST",data:"url2="+l+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){kes+=1;var s=(kons2=(kons2=(kons2=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");un1.push(s),$.each(a.p,function(e,s){table.row.add([a.p[e],l])}),$.each(a.heading,function(e,s){table.row.add([a.heading[e],l])}),table.draw(),console.log(kes),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}})),""!=$("#url3").val()&&(e+=1,$.ajax({type:"POST",data:"url3="+n+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){kes+=1;var s=(kons3=(kons3=(kons3=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");un1.push(s),$.each(a.p,function(e,s){table.row.add([a.p[e],n])}),$.each(a.heading,function(e,s){table.row.add([a.heading[e],n])}),table.draw(),console.log(kes),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}})),""!=$("#url4").val()&&(e+=1,$.ajax({type:"POST",data:"url4="+t+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){var s=(kons4=(kons4=(kons4=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");un1.push(s),$.each(a.p,function(e,s){table.row.add([a.p[e],t])}),$.each(a.heading,function(e,s){table.row.add([a.heading[e],t])}),table.draw(),kes+=1,console.log(e),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}})),""!=$("#url5").val()&&(e+=1,$.ajax({type:"POST",data:"url5="+r+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){var s=(kons5=(kons5=(kons5=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");un1.push(s),$.each(a.p,function(e,s){table.row.add([a.p[e],r])}),$.each(a.heading,function(e,s){table.row.add([a.heading[e],r])}),table.draw(),kes+=1,console.log(e),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}})),""!=$("#url6").val()&&(e+=1,$.ajax({type:"POST",data:"url6="+o+"&keyword="+d,url:xyz,dataType:"JSON",success:function(a){var s=(kons6=(kons6=(kons6=a.p.concat(a.heading,a.title).join(" ").replaceArray(stopword,"").replaceAll("undefined","")).replaceAll(/[^a-zA-Z]/g," ")).replaceAll(/\s\s+/g," ")).split(" ").filter((a,e,s)=>e===s.indexOf(a)).join(" ");un1.push(s),$.each(a.p,function(e,s){table.row.add([a.p[e],o])}),$.each(a.heading,function(e,s){table.row.add([a.heading[e],o])}),table.draw(),kes+=1,console.log(e),e==kes&&($("#show").removeClass("disabled").text("lihat konsensus").attr("title","klik untuk melihat konsensus").css({"background-color":"#17a2b8","border-color":"#17a2b8"}),$("#restabel").removeClass("disabled btn-secondary").addClass("btn-danger"))}}))}}),$("#show").click(function(a){$.fn.dataTable.ext.errMode="none",$("#konsensus").html(""),$("#popokaa").css("display","block");var e=un1.join(" ").split(" ").reduce(function(a,e){return a[e]=(a[e]||0)+1,a},{});const s=Object.fromEntries(Object.entries(e).sort(([,a],[,e])=>a-e));ob=reverseObject(s);var l,n=Object.keys(ob),t=4;for(l=0,len=Object.keys(ob).length;l<len;++l)table2.row.add([n[l],ob[n[l]],n[l+5],ob[n[l]]]),l==t&&(l+=5,t+=10);table2.draw(),console.log(ob)});
